(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{a641:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{grid:e.$q.screen.xs,"visible-columns":e.visibleColumns,title:"Nucleos",data:e._nucleos,columns:e.columns,"row-key":"id",filter:e.filter,loading:e.cargandoPersonas,"no-data-label":"Sin registro de nucleos"},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-inner-loading",{attrs:{showing:"",color:"negative"}})]},proxy:!0},{key:"top-right",fn:function(){return[n("sector-nucleo-select",{attrs:{"solo-sector":"",inline:""}}),n("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px"},attrs:{multiple:"",outlined:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":""},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),n("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"header",fn:function(t){return[n("q-tr",{attrs:{props:t}},[e._l(t.cols,(function(o){return n("q-th",{key:o.name,attrs:{props:t}},[e._v(e._s(o.label))])})),n("q-th",{attrs:{"auto-width":""}})],2)]}},{key:"body",fn:function(t){return[n("q-tr",{attrs:{props:t}},[e._l(t.cols,(function(o){return n("q-td",{key:o.name,attrs:{props:t}},[e._v(e._s(o.value))])})),n("q-td",{attrs:{"auto-width":""}},[n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"more_vert"},on:{click:function(n){e.updateTipoPersona({value:"nucleo"}),e.updateNucleo(t.row)}}},[n("q-menu",[n("q-list",{staticStyle:{"min-width":"100px"}},[n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.updateDetallesPersona}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"article",color:"info"}})],1),n("q-item-section",[e._v("Detalles")])],1),n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.updateModificarPersona}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"edit",color:"amber"}})],1),n("q-item-section",[e._v("Modificar")])],1),n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.confirmacion}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"delete",color:"negative"}})],1),n("q-item-section",[e._v("Eliminar")])],1),n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"print",color:"primary"}})],1),n("q-item-section",[e._v("Imprimir")])],1)],1)],1)],1)],1)],2)]}}])})],1)},a=[],i=n("c973"),s=n.n(i),r=n("ded3"),c=n.n(r),l=n("b44d"),u=n("2f62"),d=n("08e6"),m={name:"TablaNucleos",components:{SectorNucleoSelect:l["a"]},data(){return{filter:"",visibleColumns:["cedula","nombre","direccion","sector"],columns:[{name:"cedula",label:"Cedula",field:"cedula"},{name:"nombre",label:"Nombre",field:"nombre"},{name:"direccion",label:"Direccion",field:"direccion"},{name:"sector",label:"Sector",field:e=>this.buscarSector(e.sector).nombre},{name:"id",label:"Identificador",field:"id"},{name:"integrantes",label:"integrantes",field:e=>{const t=[];return e.integrantes.forEach(e=>{const n=this.buscarIntegrante(e);t.push(n.nombre)}),t}}]}},methods:c()(c()({},Object(u["d"])("personas",["updateNucleo","updateAgregarPersona","updateModificarPersona","updateDetallesPersona","updateTipoPersona"])),{},{confirmacion(){var e=this;this.$q.dialog({title:"Confirme",message:this.nucleo.integrantes?"El nucleo posee integrantes registrados.\n Si lo elimina tambien se eliminaran los mismos.\n ¿Seguro que quiere eliminar este nucleo?":"¿Seguro que quiere eliminar este nucleo familiar",cancel:!0,persistent:!0}).onOk(s()((function*(){try{if(e.nucleo.integrantes){const t=yield e.nucleo.getRegistrosAsociados();yield d["i"](t.integrantes)}yield d["m"](e.nucleo)}catch(t){alert("error al eliminar el nucleo 101: "+t)}})))}}),computed:c()(c()(c()({},Object(u["c"])("personas",["nucleos","nucleo","cargandoPersonas","buscarIntegrante","nucleosSector"])),Object(u["c"])("sectores",["buscarSector","sector"])),{},{_nucleo:{get(){return this.nucleo},set(e){this.updateNucleo(e)}},_nucleos(){return this.sector?this.nucleosSector(this.sector):this.nucleos}})},p=m,b=n("2877"),f=n("eaac"),v=n("74f7"),q=n("ddd8"),g=n("27f9"),h=n("0016"),k=n("bd08"),y=n("357e"),_=n("db86"),w=n("9c40"),S=n("4e73"),Q=n("1c1c"),N=n("66e5"),C=n("4074"),P=n("7f67"),x=n("eebe"),I=n.n(x),T=Object(b["a"])(p,o,a,!1,null,null,null);t["default"]=T.exports;I()(T,"components",{QTable:f["a"],QInnerLoading:v["a"],QSelect:q["a"],QInput:g["a"],QIcon:h["a"],QTr:k["a"],QTh:y["a"],QTd:_["a"],QBtn:w["a"],QMenu:S["a"],QList:Q["a"],QItem:N["a"],QItemSection:C["a"]}),I()(T,"directives",{ClosePopup:P["a"]})}}]);