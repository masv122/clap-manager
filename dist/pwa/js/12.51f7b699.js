(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{9764:function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("q-page",{attrs:{"style-fn":a.myTweak,padding:""}},[a.$q.screen.lt.sm?a._e():t("NavPagos"),t("ModificarPago"),t("DetallesPago"),t("ConfirmacionEliminacion"),t("TablaPagos"),t("FBA")],1)},i=[],s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("q-dialog",{attrs:{persistent:""},on:{hide:a.resetear},model:{value:a._modificarPago,callback:function(e){a._modificarPago=e},expression:"_modificarPago"}},[t("q-card",{staticClass:"bg-white text-dark",staticStyle:{width:"700px","max-width":"80vw"}},[t("q-toolbar",{staticClass:"bg-negative text-white q-mb-md",attrs:{dark:""}},[t("q-toolbar-title",{attrs:{shrink:""}},[t("div",{staticClass:"text-h6"},[t("q-icon",{staticClass:"q-mr-md",attrs:{name:"edit"}}),a._v("Modificar Pago\n        ")],1)]),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-auto",attrs:{dense:"",flat:"",icon:"close"}},[t("q-tooltip",{attrs:{"content-class":"bg-dark text-white"}},[a._v("Cerrar")])],1)],1),t("q-card-section",{staticClass:"q-ma-md"},[t("div",{staticClass:"text-h6 q-mb-md"},[t("q-icon",{staticClass:"q-mr-md",attrs:{name:"info"}}),a._v("Datos del pago\n      ")],1),t("q-separator",{staticClass:"q-mb-md"}),t("formulario-datos-pago",{attrs:{modificar:""}})],1),t("q-separator"),t("q-card-actions",{staticClass:"q-ma-md",attrs:{align:"center"}},[t("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Guardar",icon:"save",type:"submit",color:"primary",loading:a.guardando,disabled:a.formularioModificarPagoInvalido},on:{click:a.confirmarPago}}),t("q-btn",{staticClass:"float-right",attrs:{color:"negative",icon:"redo",label:"Restablecer"}})],1)],1)],1)},c=[],n=t("c973"),r=t.n(n),l=t("ded3"),d=t.n(l),m=t("2f62"),p=t("08e6"),u=t("67fd"),g=t("f3769"),b={name:"ModificarPago",components:{FormularioDatosPago:u["a"]},data(){return{guardando:!1}},computed:d()(d()({},Object(m["c"])("pagos",["modificarPago","pago","monto","banco","estado","fecha","referencia","formularioModificarPagoInvalido"])),{},{_modificarPago:{get(){return this.modificarPago},set(){this.updateModificarPago()}}}),methods:d()(d()(d()(d()({},Object(m["d"])("pagos",["updateModificarPago","updateMonto","updateBanco","updateEstado","updateFecha","updateReferencia"])),Object(m["d"])("personas",["updateNucleo"])),Object(m["d"])("sectores",["updateSector"])),{},{confirmarPago(){var a=this;return r()((function*(){a.guardando=!0;let e=new g["a"](a.monto,a.banco.codigo,a.estado,a.fecha,a.pago.nucleo,a.referencia,a.pago.rev);const t=yield p["v"](e);a.guardando=!1,t&&a.updateModificarPago()}))()},resetear(){this.updateMonto(0),this.updateBanco(null),this.updateEstado("pendiente"),this.updateFecha(""),this.updateReferencia(0),this.updateNucleo(null),this.updateSector(null)}})},f=b,q=t("2877"),v=t("24e8"),h=t("f09f"),P=t("65c6"),_=t("6ac5"),C=t("0016"),k=t("9c40"),w=t("05c0"),Q=t("a370"),x=t("eb85"),y=t("4b7e"),N=t("7f67"),S=t("eebe"),I=t.n(S),j=Object(q["a"])(f,s,c,!1,null,"567df7b2",null),M=j.exports;I()(j,"components",{QDialog:v["a"],QCard:h["a"],QToolbar:P["a"],QToolbarTitle:_["a"],QIcon:C["a"],QBtn:k["a"],QTooltip:w["a"],QCardSection:Q["a"],QSeparator:x["a"],QCardActions:y["a"]}),I()(j,"directives",{ClosePopup:N["a"]});var O=function(){var a=this,e=a.$createElement,t=a._self._c||e;return a.pago?t("q-dialog",{attrs:{persistent:""},model:{value:a._detallesPago,callback:function(e){a._detallesPago=e},expression:"_detallesPago"}},[t("q-card",{staticClass:"bg-white text-dark",staticStyle:{width:"700px","max-width":"80vw"}},[t("q-toolbar",{staticClass:"bg-negative text-white q-mb-md",attrs:{dark:""}},[t("q-toolbar-title",{attrs:{shrink:""}},[t("div",{staticClass:"text-h6"},[t("q-icon",{staticClass:"q-mr-md",attrs:{name:"article"}}),a._v("Detalles Pago\n        ")],1)]),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-auto",attrs:{dense:"",flat:"",icon:"close"}},[t("q-tooltip",{attrs:{"content-class":"bg-dark text-white"}},[a._v("Cerrar")])],1)],1),t("q-card-section",{staticClass:"q-pt-none"},[t("div",{staticClass:"column"},[t("div",{staticClass:"col"},[t("div",{staticClass:"text-h6 q-ml-xl"},[t("q-icon",{attrs:{name:"group"}}),a._v("Informacion del nucleo\n          ")],1),t("informacion-nucleo",{attrs:{"nombre-nucleo":a.buscarNucleo(a.pago.nucleo).nombre,nombre:a.buscarNucleo(a.pago.nucleo).cedula?a.buscarIntegrante(a.buscarNucleo(a.pago.nucleo).cedula).nombre:"Sin jefe familiar, asigne uno",cedula:a.buscarNucleo(a.pago.nucleo).cedula,direccion:a.buscarNucleo(a.pago.nucleo).direccion}})],1),t("div",{staticClass:"col"},[t("div",{staticClass:"text-h6 q-ml-xl"},[t("q-icon",{attrs:{name:"info"}}),a._v("Informacion detallada\n          ")],1),t("informacion-pago",{attrs:{referencia:a.pago.id,monto:a.pago.monto,fecha:a.pago.fecha,estado:a.pago.estado,banco:a.pago.banco}})],1)])])],1)],1):a._e()},T=[],D=t("7e94"),B=t("9171"),E={name:"DetallesPago",components:{InformacionNucleo:D["a"],InformacionPago:B["a"]},computed:d()(d()(d()({},Object(m["c"])("pagos",["detallesPago","pago"])),Object(m["c"])("personas",["buscarNucleo","buscarIntegrante"])),{},{_detallesPago:{get(){return this.detallesPago},set(a){this.updateDetallesPago(a)}}}),methods:d()({},Object(m["d"])("pagos",["updateDetallesPago"]))},$=E,A=Object(q["a"])($,O,T,!1,null,"ef0515e4",null),F=A.exports;I()(A,"components",{QDialog:v["a"],QCard:h["a"],QToolbar:P["a"],QToolbarTitle:_["a"],QIcon:C["a"],QBtn:k["a"],QTooltip:w["a"],QCardSection:Q["a"]}),I()(A,"directives",{ClosePopup:N["a"]});var R=t("e6d0"),L=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"fit row q-gutter-y-md"},[t("q-toolbar",{staticClass:"col-sm-8"},[t("sector-nucleo-select",{attrs:{inline:""}})],1),a.$q.screen.lt.sm?a._e():t("q-toolbar",{staticClass:"col-4 q-gutter-xs"},[t("q-btn",{attrs:{color:"positive",flat:"",icon:"add",label:"Agregar"},on:{click:a.updateAgregarPago}}),t("q-btn",{attrs:{color:"primary",flat:"",icon:"print",label:"Imprimir"}})],1)],1)},J=[],z=t("b44d"),G={name:"NavPagos",components:{SectorNucleoSelect:z["a"]},data(){return{}},methods:d()({},Object(m["d"])("pagos",["updateAgregarPago"]))},H=G,K=Object(q["a"])(H,L,J,!1,null,"18a44c97",null),U=K.exports;I()(K,"components",{QToolbar:P["a"],QBtn:k["a"]});var V=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("q-table",{staticClass:"q-mt-md",attrs:{grid:a.$q.screen.xs,"visible-columns":a.visibleColumns,title:"Pagos",data:a.pagos,columns:a.columns,"row-key":"id",filter:a.filter,"no-data-label":"Sin registro de pagos"},scopedSlots:a._u([{key:"loading",fn:function(){return[t("q-inner-loading",{attrs:{showing:"",color:"negative"}})]},proxy:!0},{key:"top-right",fn:function(){return[t("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px"},attrs:{multiple:"","label-color":"negative",color:"negative",dense:"","options-dense":"","display-value":a.$q.lang.table.columns,"emit-value":"","map-options":"",options:a.columns,"option-value":"name","options-cover":""},model:{value:a.visibleColumns,callback:function(e){a.visibleColumns=e},expression:"visibleColumns"}}),t("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:a._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:a.filter,callback:function(e){a.filter=e},expression:"filter"}})]},proxy:!0},{key:"header",fn:function(e){return[t("q-tr",{attrs:{props:e}},[a._l(e.cols,(function(o){return t("q-th",{key:o.name,attrs:{props:e}},[a._v(a._s(o.label))])})),t("q-th",{attrs:{"auto-width":""}})],2)]}},{key:"body",fn:function(e){return[t("q-tr",{attrs:{props:e}},[a._l(e.cols,(function(o){return t("q-td",{key:o.name,attrs:{props:e}},[a._v(a._s(o.value))])})),t("q-td",{attrs:{"auto-width":""}},[t("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"more_vert"},on:{click:function(t){return a.updatePago(e.row)}}},[t("q-menu",[t("q-list",{staticStyle:{"min-width":"100px"}},[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:a.updateDetallesPago}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"article",color:"info"}})],1),t("q-item-section",[a._v("Detalles")])],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:a.updateModificarPago}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"edit",color:"amber"}})],1),t("q-item-section",[a._v("Modificar")])],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:a.confirmacion}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"delete",color:"negative"}})],1),t("q-item-section",[a._v("Eliminar")])],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"print",color:"primary"}})],1),t("q-item-section",[a._v("Imprimir")])],1)],1)],1)],1)],1)],2)]}},{key:"item",fn:function(e){return[t("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:e.selected?"transform: scale(0.95);":""},[t("q-card",[t("q-card-section",[t("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"more_horiz"},on:{click:function(t){return a.updatePago(e.row)}}},[t("q-menu",[t("q-list",{staticStyle:{"min-width":"100px"}},[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:a.updateDetallesPago}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"article",color:"info"}})],1),t("q-item-section",[a._v("Detalles")])],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:a.updateModificarPago}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"edit",color:"amber"}})],1),t("q-item-section",[a._v("Modificar")])],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:a.confirmacion}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"delete",color:"negative"}})],1),t("q-item-section",[a._v("Eliminar")])],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"print",color:"primary"}})],1),t("q-item-section",[a._v("Imprimir")])],1)],1)],1)],1)],1),t("q-separator"),t("q-list",{attrs:{dense:""}},a._l(e.cols.filter((function(a){return"desc"!==a.name})),(function(e){return t("q-item",{key:e.name},[t("q-item-section",[t("q-item-label",[a._v(a._s(e.label))])],1),t("q-item-section",{attrs:{side:""}},[t("q-item-label",{attrs:{caption:""}},[a._v(a._s(e.value))])],1)],1)})),1)],1)],1)]}}])})},W=[],X={name:"TablaPagos",data(){return{filter:"",visibleColumns:["monto","banco","estado","fecha","nucleo","referencia"],columns:[{name:"monto",label:"Monto",field:"monto"},{name:"banco",label:"Banco",field:a=>this.buscarBanco(a.banco).nombre},{name:"estado",label:"Estado",field:"estado"},{name:"fecha",label:"Fecha",field:"fecha"},{name:"nucleo",label:"Nucleo",field:a=>this.buscarNucleo(a.nucleo).nombre},{name:"referencia",label:"Referencia",field:"id"}]}},computed:d()(d()(d()({},Object(m["c"])("pagos",["pagos","pago"])),Object(m["c"])("personas",["buscarNucleo"])),Object(m["c"])("global",["buscarBanco"])),methods:d()(d()({},Object(m["d"])("pagos",["updatePago","updateDetallesPago","updateModificarPago"])),{},{confirmacion(){var a=this;this.$q.dialog({title:"Confirme",message:"¿Seguro que quiere eliminar este pago?",cancel:!0,persistent:!0}).onOk(r()((function*(){try{yield p["q"](a.pago),yield p["r"](a.pago)}catch(e){alert("error al eliminar el pago 101: "+e)}})))}})},Y=X,Z=t("eaac"),aa=t("74f7"),ea=t("ddd8"),ta=t("27f9"),oa=t("bd08"),ia=t("357e"),sa=t("db86"),ca=t("4e73"),na=t("1c1c"),ra=t("66e5"),la=t("4074"),da=t("0170"),ma=Object(q["a"])(Y,V,W,!1,null,null,null),pa=ma.exports;I()(ma,"components",{QTable:Z["a"],QInnerLoading:aa["a"],QSelect:ea["a"],QInput:ta["a"],QIcon:C["a"],QTr:oa["a"],QTh:ia["a"],QTd:sa["a"],QBtn:k["a"],QMenu:ca["a"],QList:na["a"],QItem:ra["a"],QItemSection:la["a"],QCard:h["a"],QCardSection:Q["a"],QSeparator:x["a"],QItemLabel:da["a"]}),I()(ma,"directives",{ClosePopup:N["a"]});var ua=t("ee3b"),ga={name:"Pagos",components:{ConfirmacionEliminacion:R["a"],ModificarPago:M,DetallesPago:F,TablaPagos:pa,NavPagos:U,FBA:ua["a"]},methods:{myTweak(a){return{minHeight:a?`calc(100vh - ${a}px`:"100vh"}}}},ba=ga,fa=t("9989"),qa=Object(q["a"])(ba,o,i,!1,null,"3c162f88",null);e["default"]=qa.exports;I()(qa,"components",{QPage:fa["a"]})}}]);