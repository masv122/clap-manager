(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"8bd7":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{grid:e.$q.screen.xs,"visible-columns":e.visibleColumns,title:"Integrantes",data:e._integrantes,columns:e.columns,"row-key":"id",filter:e.filter,loading:e.cargandoPersonas,"no-data-label":"Sin registro de integrantes"},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-inner-loading",{attrs:{showing:"",color:"negative"}})]},proxy:!0},{key:"top-right",fn:function(){return[n("q-select",{staticClass:"q-mr-md",attrs:{label:"Sector","use-input":"",dense:"","options-dense":"",behavior:"menu","hide-selected":"","fill-input":"","lazy-rules":"","input-debounce":"0",options:e.sectoresOpt,"label-color":"negative",color:"negative","option-value":"id","option-label":"nombre","emit-value":"","map-options":""},on:{filter:e.filterSectores},scopedSlots:e._u([{key:"option",fn:function(t){return[n("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[n("q-item-section",[n("q-item-label",{domProps:{innerHTML:e._s(t.opt.nombre)}}),n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.opt.getDirecion()))])],1)],1)]}},{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",{staticClass:"text-grey"},[e._v("No results")])],1)]},proxy:!0}]),model:{value:e.sector,callback:function(t){e.sector=t},expression:"sector"}}),n("q-select",{staticClass:"q-mr-md",attrs:{label:"Nucleo","error-message":"Debe seleccionar un nucleo","use-input":"",dense:"","options-dense":"",behavior:"menu","hide-selected":"","fill-input":"","lazy-rules":"","input-debounce":"0",options:e.nucleosOpt,"label-color":"negative",color:"negative","option-value":"id","option-label":"nombre","emit-value":"","map-options":""},on:{filter:e.filterNucleos},scopedSlots:e._u([{key:"option",fn:function(t){return[n("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[n("q-item-section",[n("q-item-label",{domProps:{innerHTML:e._s(t.opt.cedula)}}),n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.opt.nombre))]),n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.opt.direccion))])],1)],1)]}},{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",{staticClass:"text-grey"},[e._v("No results")])],1)]},proxy:!0}]),model:{value:e.nucleo,callback:function(t){e.nucleo=t},expression:"nucleo"}}),n("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px"},attrs:{multiple:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"","label-color":"negative",color:"negative",options:e.columns,"option-value":"name","options-cover":""},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),n("q-input",{attrs:{color:"negative",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"header",fn:function(t){return[n("q-tr",{attrs:{props:t}},[e._l(t.cols,(function(o){return n("q-th",{key:o.name,attrs:{props:t}},[e._v(e._s(o.label))])})),n("q-th",{attrs:{"auto-width":""}})],2)]}},{key:"body",fn:function(t){return[n("q-tr",{attrs:{props:t}},[e._l(t.cols,(function(o){return n("q-td",{key:o.name,attrs:{props:t}},[e._v(e._s(o.value))])})),n("q-td",{attrs:{"auto-width":""}},[n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"more_vert"},on:{click:function(n){e.updateTipoPersona({value:"integrante"}),e.updateIntegrante(t.row)}}},[n("q-menu",[n("q-list",{staticStyle:{"min-width":"100px"}},[n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.updateDetallesPersona}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"article",color:"info"}})],1),n("q-item-section",[e._v("Detalles")])],1),n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.updateModificarPersona}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"edit",color:"amber"}})],1),n("q-item-section",[e._v("Modificar")])],1),n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.confirmacion}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"delete",color:"negative"}})],1),n("q-item-section",[e._v("Eliminar")])],1),n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"print",color:"primary"}})],1),n("q-item-section",[e._v("Imprimir")])],1)],1)],1)],1)],1)],2)]}}])})],1)},a=[],i=(n("c975"),n("ded3")),s=n.n(i),r=n("c973"),l=n.n(r),c=n("2f62"),u=n("08e6"),p={name:"TablaIntegrantes",data(){return{filter:"",nucleo:null,sector:null,sectoresOpt:[],nucleosOpt:[],visibleColumns:["nombre","apellido","cedula","telefono","nucleo","fechaNacimiento"],columns:[{name:"nombre",label:"Nombre(s)",field:"nombre"},{name:"apellido",label:"Apellido(s)",field:"apellido"},{name:"cedula",label:"Cedula",field:"id"},{name:"telefono",label:"Telefono",field:"telefono"},{name:"nucleo",label:"Nucleo",field:"nucleo"},{name:"fechaNacimiento",label:"Nacimiento",field:"fechaNacimiento"}]}},watch:{sector(e,t){var n=this;return l()((function*(){e!==t&&(n.nucleosOpt=n.nucleosSector(e)),n.updateCargandoPersonas(),n.cargarIntegrantes(yield n.buscarSector(e).getIntegrantes()),n.updateCargandoPersonas(),n.nucleo=null}))()}},methods:s()(s()({},Object(c["d"])("personas",["updateIntegrante","cargarIntegrantes","updateAgregarPersona","updateModificarPersona","updateDetallesPersona","updateCargandoPersonas","updateTipoPersona"])),{},{confirmacion(){var e=this;this.$q.dialog({title:"Confirme",message:"Â¿Seguro que quiere eliminar este integrante",cancel:!0,persistent:!0}).onOk(l()((function*(){try{yield u["h"](e.integrante)}catch(t){alert("error al eliminar el integrante 101: "+t)}})))},filterSectores(e,t,n){let o=this.sectores;t(()=>{const t=e.toLocaleLowerCase();this.sectoresOpt=o.filter(e=>e.nombre.toLocaleLowerCase().indexOf(t)>-1)})},filterNucleos(e,t,n){let o=this.nucleos;t(()=>{const t=e.toLocaleLowerCase();this.sectoresOpt=o.filter(e=>e.nombre.toLocaleLowerCase().indexOf(t)>-1)})}}),computed:s()(s()(s()({},Object(c["c"])("personas",["integrantes","integrante","cargandoPersonas","integrantesNucleo","nucleos","nucleosSector"])),Object(c["c"])("sectores",["sectores","buscarSector"])),{},{_integrantes(){return this.nucleo?this.integrantesNucleo(this.nucleo):this.integrantes}}),created(){this.sectoresOpt=this.sectores,this.nucleosOpt=this.nucleos},destroyed(){this.updateIntegrante(null)}},m=p,d=n("2877"),f=n("eaac"),b=n("74f7"),v=n("ddd8"),g=n("66e5"),q=n("4074"),h=n("0170"),_=n("27f9"),y=n("0016"),k=n("bd08"),w=n("357e"),C=n("db86"),x=n("9c40"),N=n("4e73"),P=n("1c1c"),S=n("7f67"),O=n("eebe"),I=n.n(O),Q=Object(d["a"])(m,o,a,!1,null,null,null);t["default"]=Q.exports;I()(Q,"components",{QTable:f["a"],QInnerLoading:b["a"],QSelect:v["a"],QItem:g["a"],QItemSection:q["a"],QItemLabel:h["a"],QInput:_["a"],QIcon:y["a"],QTr:k["a"],QTh:w["a"],QTd:C["a"],QBtn:x["a"],QMenu:N["a"],QList:P["a"]}),I()(Q,"directives",{ClosePopup:S["a"]})}}]);